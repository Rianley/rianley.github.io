---
title: "Mememcached,Redis,MongoDB和NoSQl"
excerpt: "说说缓存系统和NoSQL,特别是Redis，幼稚我的我曾经在一次面试中跟一个技术总监聊到有了不同认识……"
categories: php
tags:
 - Mememcached
 - Redis
 - MongoDB
 - NoSQl
 - 非关系型数据库
author: rianley
---

#### 概念

* Memcached  

是高性能的分布式内存缓存服务器。一般的使用目的是，通过缓存数据库查询结果，减少数据库访问次数，以提高动态Web应用的速度、提高可扩展性。由于数据仅存在于内存中，因此重启memcached、重启操作系统会导致全部数据消失。  
memcached能够存储的数据：字符串，布尔值，整型，浮点型，数组，null。（不支持对象资源类型，数组与对象是被序列化后以字符串的形式来存储的。）

* Redis

Redis是一个开源、支持网络、基于内存、键值对存储数据库，使用ANSI C编写.Redis的外围由一个键、值映射的字典构成。
与其他非关系型数据库主要不同在于：Redis中值的类型不仅限于字符串，还支持列表、集合、哈希等。
Redis支持持久化、主从同步，特别强调“写与读操作速度没有明显差别。”执行效率非常高！
(注：解释来自维基百科。之前就这个问题曾与一技术总监发生不同认识，按照通常或者广义的理解其实能够存储数据的软件工具都可以称得上数据库，曾经还把Redis作为典型key_value型NoSQL，但是对方告诉我只是一个缓存系统，算不得数据库。其实网上也有人这么说“说它不算一个真正意义上的数据库”。这种概念性的东西争论没多大意义，最主要的还是看用法吧。)

* MongoDB  

MongoDB是一种文档导向数据库管理系统，MongoDB是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。他支持的数据结构非常松散，是类似json的bson格式，因此可以存储比较复杂的数据类型。Mongo最大的特点是他支持的查询语言非常强大，其语法有点类似于面向对象的查询语言，几乎可以实现类似关系数据库单表查询的绝大部分功能，而且还支持对数据建立索引。  
注：不支持连表查询，不支持sql语句，不支持事务存储过程等，所以不适合存储数据间关系比较复杂的数据，一般主要是当做一个数据仓库来使用

* NoSQL 

NoSQL有时也称作Not Only SQL的缩写，是对不同于传统的关系数据库的数据库管理系统的统称。
两者存在许多显著的不同点，其中最重要的是NoSQL不使用SQL作为查询语言。其数据存储可以不需要固定的表格模式，也经常会避免使用SQL的JOIN操作，一般有水平可扩展性的特征。NoSQL的实现具有二个特征：使用硬盘，或者把随机存储器作存储载体。



#### 区别
* redis与memcache比较 

（1）数据类型:memcache支持的数据类型就是字符串，redis支持的数据类型有字符串，哈希，链表，集合，有序集合。  
（2）持久化：memcache数据是存储到内存里面，一旦断电，或重启，则数据丢失。redis数据也是存储到内存里面的，但是可以持久化，周期性的把数据给保存到硬盘里面，导致重启，或断电不会丢失数据。  
（3）数据量：memcahce一个键存储的数据最大是1M,而redis的一个键值，存储的最大数据量是1G的数据量。



#### 应用场景 

* redis

数据量较小的更性能操作和运算上 
Redis使用最佳方式是全部数据in-memory。  
Redis更多场景是作为Memcached的替代者来使用。  
当需要除key/value之外的更多数据类型支持时，使用Redis更合适。  
当存储的数据不能被剔除时，使用Redis更合适。  


* memcache

用于在动态系统中减少数据库负载，提升性能;做缓存，提高性能（适合读多写少，对于数据量比较大，可以采用sharding）  

哪些数据比较适合于存储memcahe  

（1）数据安全性比较差的（丢失无所谓的）  

（2）数据查询比较频繁的，可以把数据给缓存到memcache里面。  

（3）数据量不要太大，要少于1M  

（4）更新比较频繁的数据，比如用户的在线状态  



* MongoDB

主要解决海量数据的访问效率问题  
适用于：日志系统，股票数据，等



参考资料 

* [redis和mongodb数据库对比](http://www.111cn.net/database/276/90460.htm){:target='_blank'} 

* [NoSQL -wikipedia](https://zh.wikipedia.org/wiki/nosql){:target='_blank'} 

* [国内外三个不同领域巨头分享的Redis实战经验及使用场景](http://www.csdn.net/article/1970-01-01/2817107/){:target='_blank'} 
